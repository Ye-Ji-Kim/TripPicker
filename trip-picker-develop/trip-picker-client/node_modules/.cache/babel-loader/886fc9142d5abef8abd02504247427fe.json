{"ast":null,"code":"import _taggedTemplateLiteral from \"/Users/roeniss/Desktop/workspace/sinsudong-crusher/trip-picker-develop/trip-picker-client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport _slicedToArray from \"/Users/roeniss/Desktop/workspace/sinsudong-crusher/trip-picker-develop/trip-picker-client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/roeniss/Desktop/workspace/sinsudong-crusher/trip-picker-develop/trip-picker-client/src/pages/FeedItems.js\";\n\nfunction _templateObject3() {\n  const data = _taggedTemplateLiteral([\"\\n  height: 500px;\\n  width: 500px;\\n  margin: 0 auto;\\n  text-align: center;\\n  padding-top: 270px;\\n\"]);\n\n  _templateObject3 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  const data = _taggedTemplateLiteral([\"\\n  position: relative;\\n  width: 200px;\\n  height: 200px;\\n  margin: 10px;\\n  // border: 1px red solid;\\n  text-align: center;\\n  background-size: cover;\\n  border-radius: 10px;\\n\"]);\n\n  _templateObject2 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  const data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: space-around;\\n  flex-wrap: wrap;\\n  margin: 0 auto;\\n\"]);\n\n  _templateObject = function () {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useContext, useState } from \"react\";\nimport { DispatchContext, StateContext } from \"../App\";\nimport styled from \"styled-components\";\nimport { axios } from \"../customAxios\";\nimport Detail from \"../modals/Detail\";\nimport BookmarkIcon from \"../components/BookmarkIcon\";\nimport LikeIcon from \"../components/LikeIcon\";\n\nconst FeedItems = () => {\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        detail = _useState2[0],\n        setDetail = _useState2[1];\n\n  const dispatch = useContext(DispatchContext);\n  const state = useContext(StateContext);\n\n  const toggleFavorite = (e, item) => {\n    e.preventDefault();\n    e.stopPropagation();\n    const contentIdx = item.contentIdx;\n    const data = {\n      userIdx: state.get(\"id\"),\n      contentIdx\n    };\n\n    if (e.target.classList.contains(\"fas\")) {\n      axios(\"REMOVE_FAVORITE\", dispatch, data);\n      e.target.classList.remove(\"fas\");\n      e.target.classList.add(\"far\");\n    } else {\n      axios(\"ADD_FAVORITE\", dispatch, data);\n      e.target.classList.add(\"fas\");\n      e.target.classList.remove(\"far\");\n    }\n  };\n\n  const toggleLike = (e, item) => {\n    e.preventDefault();\n    e.stopPropagation();\n    const contentIdx = item.contentIdx,\n          categoryCode = item.categoryCode,\n          subCategoryCode = item.subCategoryCode;\n    const data = {\n      userIdx: state.get(\"id\"),\n      contentIdx,\n      categoryCode,\n      subCategoryCode\n    };\n\n    if (e.target.classList.contains(\"fas\")) {\n      axios(\"REMOVE_LIKE\", dispatch, data);\n      e.target.classList.remove(\"fas\");\n      e.target.classList.add(\"far\");\n    } else {\n      axios(\"ADD_LIKE\", dispatch, data);\n      e.target.classList.add(\"fas\");\n      e.target.classList.remove(\"far\");\n    }\n  };\n\n  const showDetails = (e, contentIdx) => {\n    window.scrollTo(0, 0);\n    e.preventDefault();\n    e.stopPropagation();\n    setDetail(contentIdx);\n  };\n\n  const closeModal = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    setDetail(false);\n  };\n\n  const items = () => {\n    if (state.get(\"feed\").length === 0) return React.createElement(Loading, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fas fa-spinner fa-spin fa-10x\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }));\n    let data;\n    if (state.get(\"showFavorites\")) data = state.get(\"favorites\");else data = state.get(\"feed\");\n    return data.map(item => // TODO: 렌더링 때부터 (state를 따로 가지고 있길 바라는) 좋아요 데이터와 매칭시켜, like 또는 non-like 표시\n    React.createElement(FlexChild, {\n      onClick: e => showDetails(e, item.contentIdx),\n      style: {\n        backgroundImage: \"url(\".concat(item.imageUrl, \")\")\n      },\n      key: item.contentIdx,\n      id: item.contentIdx,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(BookmarkIcon, {\n      handler: e => toggleFavorite(e, item),\n      clicked: item.bookmarked ? true : false,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }), React.createElement(LikeIcon, {\n      handler: e => toggleLike(e, item),\n      clicked: item.liked ? true : false,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    })));\n  };\n\n  return React.createElement(React.Fragment, null, detail ? React.createElement(Detail, {\n    contentIdx: detail,\n    closeModal: closeModal,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }) : null, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, \"\\uD604\\uC7AC \\uC120\\uD0DD\\uB41C \\uC9C0\\uC5ED: \", state.get(\"region\")), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, \"\\uD604\\uC7AC \\uC120\\uD0DD\\uB41C \\uD37C\\uC18C\\uB110\\uB9AC\\uD2F0 : \", state.get(\"personality\")), React.createElement(FlexParent, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, items()));\n};\n\nconst FlexParent = styled.div(_templateObject());\nconst FlexChild = styled.div(_templateObject2());\nconst Loading = styled.div(_templateObject3());\nexport default FeedItems;","map":{"version":3,"sources":["/Users/roeniss/Desktop/workspace/sinsudong-crusher/trip-picker-develop/trip-picker-client/src/pages/FeedItems.js"],"names":["React","useContext","useState","DispatchContext","StateContext","styled","axios","Detail","BookmarkIcon","LikeIcon","FeedItems","detail","setDetail","dispatch","state","toggleFavorite","e","item","preventDefault","stopPropagation","contentIdx","data","userIdx","get","target","classList","contains","remove","add","toggleLike","categoryCode","subCategoryCode","showDetails","window","scrollTo","closeModal","items","length","map","backgroundImage","imageUrl","bookmarked","liked","FlexParent","div","FlexChild","Loading"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from \"react\";\nimport { DispatchContext, StateContext } from \"../App\";\nimport styled from \"styled-components\";\nimport { axios } from \"../customAxios\";\nimport Detail from \"../modals/Detail\";\nimport BookmarkIcon from \"../components/BookmarkIcon\";\nimport LikeIcon from \"../components/LikeIcon\";\n\nconst FeedItems = () => {\n  const [detail, setDetail] = useState(false);\n\n  const dispatch = useContext(DispatchContext);\n  const state = useContext(StateContext);\n\n  const toggleFavorite = (e, item) => {\n    e.preventDefault();\n    e.stopPropagation();\n    const { contentIdx } = item;\n    const data = { userIdx: state.get(\"id\"), contentIdx };\n    if (e.target.classList.contains(\"fas\")) {\n      axios(\"REMOVE_FAVORITE\", dispatch, data);\n      e.target.classList.remove(\"fas\");\n      e.target.classList.add(\"far\");\n    } else {\n      axios(\"ADD_FAVORITE\", dispatch, data);\n      e.target.classList.add(\"fas\");\n      e.target.classList.remove(\"far\");\n    }\n  };\n\n  const toggleLike = (e, item) => {\n    e.preventDefault();\n    e.stopPropagation();\n    const { contentIdx, categoryCode, subCategoryCode } = item;\n    const data = { userIdx: state.get(\"id\"), contentIdx, categoryCode, subCategoryCode };\n    if (e.target.classList.contains(\"fas\")) {\n      axios(\"REMOVE_LIKE\", dispatch, data);\n      e.target.classList.remove(\"fas\");\n      e.target.classList.add(\"far\");\n    } else {\n      axios(\"ADD_LIKE\", dispatch, data);\n      e.target.classList.add(\"fas\");\n      e.target.classList.remove(\"far\");\n    }\n  };\n\n  const showDetails = (e, contentIdx) => {\n    window.scrollTo(0, 0);\n    e.preventDefault();\n    e.stopPropagation();\n    setDetail(contentIdx);\n  };\n\n  const closeModal = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    setDetail(false);\n  };\n\n  const items = () => {\n    if (state.get(\"feed\").length === 0)\n      return (\n        <Loading>\n          <i className=\"fas fa-spinner fa-spin fa-10x\"></i>\n        </Loading>\n      );\n    let data;\n    if (state.get(\"showFavorites\")) data = state.get(\"favorites\");\n    else data = state.get(\"feed\");\n\n    return data.map(item => (\n      // TODO: 렌더링 때부터 (state를 따로 가지고 있길 바라는) 좋아요 데이터와 매칭시켜, like 또는 non-like 표시\n      <FlexChild onClick={e => showDetails(e, item.contentIdx)} style={{ backgroundImage: `url(${item.imageUrl})` }} key={item.contentIdx} id={item.contentIdx}>\n        <BookmarkIcon handler={e => toggleFavorite(e, item)} clicked={item.bookmarked ? true : false} />\n        <LikeIcon handler={e => toggleLike(e, item)} clicked={item.liked ? true : false} />\n      </FlexChild>\n    ));\n  };\n\n  return (\n    <>\n      {detail ? <Detail contentIdx={detail} closeModal={closeModal} /> : null}\n      <div>현재 선택된 지역: {state.get(\"region\")}</div>\n      <div>현재 선택된 퍼소널리티 : {state.get(\"personality\")}</div>\n      <FlexParent>{items()}</FlexParent>\n    </>\n  );\n};\n\nconst FlexParent = styled.div`\n  display: flex;\n  justify-content: space-around;\n  flex-wrap: wrap;\n  margin: 0 auto;\n`;\nconst FlexChild = styled.div`\n  position: relative;\n  width: 200px;\n  height: 200px;\n  margin: 10px;\n  // border: 1px red solid;\n  text-align: center;\n  background-size: cover;\n  border-radius: 10px;\n`;\n\nconst Loading = styled.div`\n  height: 500px;\n  width: 500px;\n  margin: 0 auto;\n  text-align: center;\n  padding-top: 270px;\n`;\nexport default FeedItems;\n"]},"metadata":{},"sourceType":"module"}