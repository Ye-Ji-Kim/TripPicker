{"ast":null,"code":"import _taggedTemplateLiteral from \"/Users/roeniss/Desktop/workspace/sinsudong-crusher/trip-picker-develop/trip-picker-client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport _slicedToArray from \"/Users/roeniss/Desktop/workspace/sinsudong-crusher/trip-picker-develop/trip-picker-client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/roeniss/Desktop/workspace/sinsudong-crusher/trip-picker-develop/trip-picker-client/src/components/RegionSelectMap.js\";\n\nfunction _templateObject() {\n  const data = _taggedTemplateLiteral([\"\\n  select {\\n    height: 100px;\\n    font-size: 30px;\\n  }\\n  select:nth-of-type(1) {\\n    width: 89px;\\n    margin-right: 30px;\\n  }\\n  select:nth-of-type(2) {\\n    width: 130px;\\n    margin-right: 30px;\\n  }\\n\"]);\n\n  _templateObject = function () {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useState, useContext } from \"react\";\nimport regionInfo from \"../helper/regionInfo\";\nimport { axios } from \"../customAxios\";\nimport { DispatchContext, StateContext } from \"../App\";\nimport styled from \"styled-components\";\n\nconst RegionSelectMap = () => {\n  const _useState = useState(\"서울\"),\n        _useState2 = _slicedToArray(_useState, 2),\n        sido = _useState2[0],\n        setSido = _useState2[1];\n\n  const _useState3 = useState(\"종로구\"),\n        _useState4 = _slicedToArray(_useState3, 2),\n        sigungu = _useState4[0],\n        setSigungu = _useState4[1];\n\n  const dispatch = useContext(DispatchContext);\n  const state = useContext(StateContext);\n\n  const getSidoOptions = () => {\n    const sidos = new Set();\n    Object.keys(regionInfo).forEach(regionCode => {\n      const sido = regionInfo[regionCode].sido;\n      sidos.add(sido);\n    });\n    const sidosList = Array.from(sidos);\n    return sidosList.map(sido => React.createElement(\"option\", {\n      value: sido,\n      key: sido,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 22\n      },\n      __self: this\n    }, sido));\n  };\n\n  const getSigunguOptions = () => {\n    const sigungus = new Set();\n    const currentSido = sido;\n    Object.keys(regionInfo).forEach(regionCode => {\n      const _regionInfo$regionCod = regionInfo[regionCode],\n            sido = _regionInfo$regionCod.sido,\n            sigungu = _regionInfo$regionCod.sigungu;\n\n      if (sido === currentSido) {\n        sigungus.add(sigungu);\n      }\n    });\n    const sigunguList = Array.from(sigungus);\n    return sigunguList.map(sigungu => React.createElement(\"option\", {\n      value: sigungu,\n      key: sigungu,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, sigungu));\n  };\n\n  const setSidoAndSigungu = e => {\n    // sigungu도 sido에 맞는 걸로 선택시켜줘야됨.\n    e.preventDefault();\n    const currentSido = e.target.value;\n    const keys = Object.keys(regionInfo).filter(key => currentSido === regionInfo[key].sido);\n    const firstSigungu = regionInfo[keys[0]].sigungu;\n    setSido(currentSido);\n    setSigungu(firstSigungu);\n  };\n\n  const onSubmitHandler = e => {\n    e.preventDefault();\n    if (!sido || !sigungu) return alert(\"지역을 선택해주세요\");\n    const fullRegion = sido + \" \" + sigungu;\n    axios(\"UPDATE_REGION\", dispatch, {\n      userIdx: state.get(\"id\"),\n      region: fullRegion\n    });\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, React.createElement(RegionSelectMapForm, {\n    onSubmit: onSubmitHandler,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(\"select\", {\n    onChange: e => setSidoAndSigungu(e),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, getSidoOptions()), React.createElement(\"select\", {\n    onChange: e => setSigungu(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, getSigunguOptions()), React.createElement(\"button\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, \"\\uC9C0\\uC5ED\\uB4F1\\uB85D\")));\n};\n\nexport default RegionSelectMap;\nconst RegionSelectMapForm = styled.form(_templateObject());","map":{"version":3,"sources":["/Users/roeniss/Desktop/workspace/sinsudong-crusher/trip-picker-develop/trip-picker-client/src/components/RegionSelectMap.js"],"names":["React","useState","useContext","regionInfo","axios","DispatchContext","StateContext","styled","RegionSelectMap","sido","setSido","sigungu","setSigungu","dispatch","state","getSidoOptions","sidos","Set","Object","keys","forEach","regionCode","add","sidosList","Array","from","map","getSigunguOptions","sigungus","currentSido","sigunguList","setSidoAndSigungu","e","preventDefault","target","value","filter","key","firstSigungu","onSubmitHandler","alert","fullRegion","userIdx","get","region","RegionSelectMapForm","form"],"mappings":";;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,UAA1B,QAA4C,OAA5C;AACA,OAAOC,UAAP,MAAuB,sBAAvB;AACA,SAASC,KAAT,QAAsB,gBAAtB;AACA,SAASC,eAAT,EAA0BC,YAA1B,QAA8C,QAA9C;AACA,OAAOC,MAAP,MAAmB,mBAAnB;;AAEA,MAAMC,eAAe,GAAG,MAAM;AAAA,oBACJP,QAAQ,CAAC,IAAD,CADJ;AAAA;AAAA,QACrBQ,IADqB;AAAA,QACfC,OADe;;AAAA,qBAEET,QAAQ,CAAC,KAAD,CAFV;AAAA;AAAA,QAErBU,OAFqB;AAAA,QAEZC,UAFY;;AAI5B,QAAMC,QAAQ,GAAGX,UAAU,CAACG,eAAD,CAA3B;AACA,QAAMS,KAAK,GAAGZ,UAAU,CAACI,YAAD,CAAxB;;AAEA,QAAMS,cAAc,GAAG,MAAM;AAC3B,UAAMC,KAAK,GAAG,IAAIC,GAAJ,EAAd;AACAC,IAAAA,MAAM,CAACC,IAAP,CAAYhB,UAAZ,EAAwBiB,OAAxB,CAAgCC,UAAU,IAAI;AAAA,YACpCZ,IADoC,GAC3BN,UAAU,CAACkB,UAAD,CADiB,CACpCZ,IADoC;AAE5CO,MAAAA,KAAK,CAACM,GAAN,CAAUb,IAAV;AACD,KAHD;AAIA,UAAMc,SAAS,GAAGC,KAAK,CAACC,IAAN,CAAWT,KAAX,CAAlB;AACA,WAAOO,SAAS,CAACG,GAAV,CAAcjB,IAAI,IACvB;AAAQ,MAAA,KAAK,EAAEA,IAAf;AAAqB,MAAA,GAAG,EAAEA,IAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGA,IADH,CADK,CAAP;AAKD,GAZD;;AAcA,QAAMkB,iBAAiB,GAAG,MAAM;AAC9B,UAAMC,QAAQ,GAAG,IAAIX,GAAJ,EAAjB;AACA,UAAMY,WAAW,GAAGpB,IAApB;AACAS,IAAAA,MAAM,CAACC,IAAP,CAAYhB,UAAZ,EAAwBiB,OAAxB,CAAgCC,UAAU,IAAI;AAAA,oCAClBlB,UAAU,CAACkB,UAAD,CADQ;AAAA,YACpCZ,IADoC,yBACpCA,IADoC;AAAA,YAC9BE,OAD8B,yBAC9BA,OAD8B;;AAE5C,UAAIF,IAAI,KAAKoB,WAAb,EAA0B;AACxBD,QAAAA,QAAQ,CAACN,GAAT,CAAaX,OAAb;AACD;AACF,KALD;AAMA,UAAMmB,WAAW,GAAGN,KAAK,CAACC,IAAN,CAAWG,QAAX,CAApB;AACA,WAAOE,WAAW,CAACJ,GAAZ,CAAgBf,OAAO,IAC5B;AAAQ,MAAA,KAAK,EAAEA,OAAf;AAAwB,MAAA,GAAG,EAAEA,OAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGA,OADH,CADK,CAAP;AAKD,GAfD;;AAiBA,QAAMoB,iBAAiB,GAAGC,CAAC,IAAI;AAC7B;AACAA,IAAAA,CAAC,CAACC,cAAF;AACA,UAAMJ,WAAW,GAAGG,CAAC,CAACE,MAAF,CAASC,KAA7B;AACA,UAAMhB,IAAI,GAAGD,MAAM,CAACC,IAAP,CAAYhB,UAAZ,EAAwBiC,MAAxB,CAA+BC,GAAG,IAAIR,WAAW,KAAK1B,UAAU,CAACkC,GAAD,CAAV,CAAgB5B,IAAtE,CAAb;AACA,UAAM6B,YAAY,GAAGnC,UAAU,CAACgB,IAAI,CAAC,CAAD,CAAL,CAAV,CAAoBR,OAAzC;AACAD,IAAAA,OAAO,CAACmB,WAAD,CAAP;AACAjB,IAAAA,UAAU,CAAC0B,YAAD,CAAV;AACD,GARD;;AAUA,QAAMC,eAAe,GAAGP,CAAC,IAAI;AAC3BA,IAAAA,CAAC,CAACC,cAAF;AACA,QAAI,CAACxB,IAAD,IAAS,CAACE,OAAd,EAAuB,OAAO6B,KAAK,CAAC,YAAD,CAAZ;AACvB,UAAMC,UAAU,GAAGhC,IAAI,GAAG,GAAP,GAAaE,OAAhC;AACAP,IAAAA,KAAK,CAAC,eAAD,EAAkBS,QAAlB,EAA4B;AAAE6B,MAAAA,OAAO,EAAE5B,KAAK,CAAC6B,GAAN,CAAU,IAAV,CAAX;AAA4BC,MAAAA,MAAM,EAAEH;AAApC,KAA5B,CAAL;AACD,GALD;;AAOA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,mBAAD;AAAqB,IAAA,QAAQ,EAAEF,eAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAQ,IAAA,QAAQ,EAAEP,CAAC,IAAID,iBAAiB,CAACC,CAAD,CAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA8CjB,cAAc,EAA5D,CADF,EAEE;AAAQ,IAAA,QAAQ,EAAEiB,CAAC,IAAIpB,UAAU,CAACoB,CAAC,CAACE,MAAF,CAASC,KAAV,CAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAoDR,iBAAiB,EAArE,CAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAHF,CADF,CADF;AASD,CAhED;;AAkEA,eAAenB,eAAf;AAEA,MAAMqC,mBAAmB,GAAGtC,MAAM,CAACuC,IAAV,mBAAzB","sourcesContent":["import React, { useState, useContext } from \"react\";\nimport regionInfo from \"../helper/regionInfo\";\nimport { axios } from \"../customAxios\";\nimport { DispatchContext, StateContext } from \"../App\";\nimport styled from \"styled-components\";\n\nconst RegionSelectMap = () => {\n  const [sido, setSido] = useState(\"서울\");\n  const [sigungu, setSigungu] = useState(\"종로구\");\n\n  const dispatch = useContext(DispatchContext);\n  const state = useContext(StateContext);\n\n  const getSidoOptions = () => {\n    const sidos = new Set();\n    Object.keys(regionInfo).forEach(regionCode => {\n      const { sido } = regionInfo[regionCode];\n      sidos.add(sido);\n    });\n    const sidosList = Array.from(sidos);\n    return sidosList.map(sido => (\n      <option value={sido} key={sido}>\n        {sido}\n      </option>\n    ));\n  };\n\n  const getSigunguOptions = () => {\n    const sigungus = new Set();\n    const currentSido = sido;\n    Object.keys(regionInfo).forEach(regionCode => {\n      const { sido, sigungu } = regionInfo[regionCode];\n      if (sido === currentSido) {\n        sigungus.add(sigungu);\n      }\n    });\n    const sigunguList = Array.from(sigungus);\n    return sigunguList.map(sigungu => (\n      <option value={sigungu} key={sigungu}>\n        {sigungu}\n      </option>\n    ));\n  };\n\n  const setSidoAndSigungu = e => {\n    // sigungu도 sido에 맞는 걸로 선택시켜줘야됨.\n    e.preventDefault();\n    const currentSido = e.target.value;\n    const keys = Object.keys(regionInfo).filter(key => currentSido === regionInfo[key].sido);\n    const firstSigungu = regionInfo[keys[0]].sigungu;\n    setSido(currentSido);\n    setSigungu(firstSigungu);\n  };\n\n  const onSubmitHandler = e => {\n    e.preventDefault();\n    if (!sido || !sigungu) return alert(\"지역을 선택해주세요\");\n    const fullRegion = sido + \" \" + sigungu;\n    axios(\"UPDATE_REGION\", dispatch, { userIdx: state.get(\"id\"), region: fullRegion });\n  };\n\n  return (\n    <div>\n      <RegionSelectMapForm onSubmit={onSubmitHandler}>\n        <select onChange={e => setSidoAndSigungu(e)}>{getSidoOptions()}</select>\n        <select onChange={e => setSigungu(e.target.value)}>{getSigunguOptions()}</select>\n        <button>지역등록</button>\n      </RegionSelectMapForm>\n    </div>\n  );\n};\n\nexport default RegionSelectMap;\n\nconst RegionSelectMapForm = styled.form`\n  select {\n    height: 100px;\n    font-size: 30px;\n  }\n  select:nth-of-type(1) {\n    width: 89px;\n    margin-right: 30px;\n  }\n  select:nth-of-type(2) {\n    width: 130px;\n    margin-right: 30px;\n  }\n`;\n"]},"metadata":{},"sourceType":"module"}