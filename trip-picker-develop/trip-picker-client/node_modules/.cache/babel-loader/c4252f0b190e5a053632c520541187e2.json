{"ast":null,"code":"import _taggedTemplateLiteral from \"/Users/roeniss/Desktop/workspace/sinsudong-crusher/trip-picker-develop/trip-picker-client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport _slicedToArray from \"/Users/roeniss/Desktop/workspace/sinsudong-crusher/trip-picker-develop/trip-picker-client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/roeniss/Desktop/workspace/sinsudong-crusher/trip-picker-develop/trip-picker-client/src/modals/Detail.js\";\n\nfunction _templateObject4() {\n  const data = _taggedTemplateLiteral([\"\\n  overflow-x: auto;\\n  white-space: nowrap;\\n  div {\\n    position: relative;\\n    width: 100px;\\n    height: 100px;\\n    margin: 10px;\\n    text-align: center;\\n    background-size: cover;\\n    border-radius: 10px;\\n    display: inline-block;\\n  }\\n\"]);\n\n  _templateObject4 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  const data = _taggedTemplateLiteral([\"\\n  height: 100%;\\n  line-break: auto;\\n  overflow-x: hidden;\\n  padding: 20px;\\n  > div {\\n    margin-bottom: 20px;\\n  }\\n  div#ButtonContainer {\\n    text-align: center;\\n    button {\\n      width: 300px;\\n      margin: 0 auto;\\n      height: 30px;\\n      border-radius: 10px;\\n      cursor: pointer;\\n    }\\n    #relatedItem1 {\\n      margin-bottom: 10px;\\n    }\\n  }\\n  #homepage-info {\\n    text-align: center;\\n  }\\n\"]);\n\n  _templateObject3 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  const data = _taggedTemplateLiteral([\"\\n  margin: 0 auto;\\n  text-align: center;\\n  padding-top: 100px;\\n\"]);\n\n  _templateObject2 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  const data = _taggedTemplateLiteral([\"\\n  position: absolute;\\n  width: 100%;\\n  height: 100vh;\\n  background-color: rgba(101, 101, 101, 0.65);\\n  top: 0;\\n  left: 0;\\n  > div {\\n    position: absolute;\\n    width: 500px;\\n    height: 700px;\\n    // border: 1px red solid;\\n    top: 50%;\\n    left: 50%;\\n    transform: translate(-50%, -50%);\\n    background-color: white;\\n  }\\n\"]);\n\n  _templateObject = function () {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useState, useEffect, useContext } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport styled from \"styled-components\";\nimport { axios } from \"../customAxios\";\nimport Axios from \"axios\";\nimport BookmarkIcon from \"../components/BookmarkIcon\";\nimport LikeIcon from \"../components/LikeIcon\";\nimport { StateContext, DispatchContext } from \"../App\";\nconst detailModalElem = document.getElementById(\"detail-modal\");\n\nconst Detail = ({\n  userIdx,\n  closeModal\n}) => {\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        item = _useState2[0],\n        setItem = _useState2[1];\n\n  const state = useContext(StateContext);\n  const dispatch = useContext(DispatchContext);\n  useEffect(() => {\n    // Axios.get(\"?\").then(res => setItem(res));\n    // Below: Test\n    setItem({\n      aa: 123\n    });\n  }, []);\n\n  const gotoRelatedItem = target => Axios.get(\"?\").then(res => setItem(res));\n\n  const getHomepageLinkTag = (link, text = \"홈페이지 링크\") => React.createElement(\"a\", {\n    href: link,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26\n    },\n    __self: this\n  }, text);\n\n  const getImages = imageLinks => imageLinks.map(link => React.createElement(\"div\", {\n    key: link,\n    style: {\n      backgroundImage: \"url(\".concat(link, \")\")\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }));\n\n  const toggleFavorite = (e, item) => {\n    e.preventDefault();\n    e.stopPropagation();\n    const contentIdx = item.contentIdx;\n    const data = {\n      userIdx: state.get(\"id\"),\n      contentIdx\n    };\n\n    if (e.target.classList.contains(\"fas\")) {\n      axios(\"REMOVE_FAVORITE\", dispatch, data);\n      e.target.classList.remove(\"fas\");\n      e.target.classList.add(\"far\");\n    } else {\n      axios(\"ADD_FAVORITE\", dispatch, data);\n      e.target.classList.add(\"fas\");\n      e.target.classList.remove(\"far\");\n    }\n  };\n\n  const toggleLike = (e, item) => {\n    e.preventDefault();\n    e.stopPropagation();\n    const contentIdx = item.contentIdx,\n          categoryCode = item.categoryCode,\n          subCategoryCode = item.subCategoryCode;\n    const data = {\n      userIdx: state.get(\"id\"),\n      contentIdx,\n      categoryCode,\n      subCategoryCode\n    };\n\n    if (e.target.classList.contains(\"fas\")) {\n      axios(\"REMOVE_LIKE\", dispatch, data);\n      e.target.classList.remove(\"fas\");\n      e.target.classList.add(\"far\");\n    } else {\n      axios(\"ADD_LIKE\", dispatch, data);\n      e.target.classList.add(\"fas\");\n      e.target.classList.remove(\"far\");\n    }\n  };\n\n  const getDefailInfo = () => {\n    if (!item) return React.createElement(Loading, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fas fa-spinner fa-spin fa-10x\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }));else return React.createElement(DetailModalContainer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(BookmarkIcon, {\n      handler: e => toggleFavorite(e, item),\n      clicked: item.bookmarked ? true : false,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }), React.createElement(LikeIcon, {\n      handler: e => toggleLike(e, item),\n      clicked: item.liked ? true : false,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }), React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, item.title || \"타이틀 들어가는 자리\"), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \"\\uC8FC\\uC18C: \\uC8FC\\uC18C\\uC815\\uBCF4\\uC8FC\\uC18C\\uC815\\uBCF4\\uC8FC\\uC18C\\uC815\\uBCF4\\uC8FC\\uC18C\\uC815\\uBCF4\\uC8FC\\uC18C\\uC815\\uBCF4\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \"\\uAC1C\\uC694:\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, item.short_description || \"개요 들어가는 자리개요 들어가는 자리개요 들어가는 자리개요 들어가는 자리개요 들어가는 자리개요 들어가는 자리개요 들어가는 자리개요 들어가는 자리개요 들어가는 자리 개요 들어가는 자리개요 들어가는 자리개요 들어가는 자리개요 들어가는 자리개요 들어가는 자리개요 들어가는 자리 개요 들어가는 자리개요 들어가는 자리개요 들어가는 자리개요 들어가는 자리개요 들어가는 자리개요 들어가는 자리ㅍ 개요 들어가는 자리개요 들어가는 자리개요 들어가는 자리개요 들어가는 자리개요 들어가는 자리개요 들어가는 자리\"), React.createElement(ImageContainer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, getImages([\"http://tong.visitkorea.or.kr/cms/resource/58/980658_image2_1.jpg\", \"http://tong.visitkorea.or.kr/cms/resource/58/980658_image2_1.jpg\", \"http://tong.visitkorea.or.kr/cms/resource/58/980658_image2_1.jpg\", \"http://tong.visitkorea.or.kr/cms/resource/58/980658_image2_1.jpg\", \"http://tong.visitkorea.or.kr/cms/resource/58/980658_image2_1.jpg\", \"http://tong.visitkorea.or.kr/cms/resource/58/980658_image2_1.jpg\"]), React.createElement(\"div\", {\n      style: {\n        backgroundImage: 'url(\"http://tong.visitkorea.or.kr/cms/resource/58/980658_image2_1.jpg\")'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: {\n        backgroundImage: 'url(\"http://tong.visitkorea.or.kr/cms/resource/58/980658_image2_1.jpg\")'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }), \" \", React.createElement(\"div\", {\n      style: {\n        backgroundImage: 'url(\"http://tong.visitkorea.or.kr/cms/resource/58/980658_image2_1.jpg\")'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: {\n        backgroundImage: 'url(\"http://tong.visitkorea.or.kr/cms/resource/58/980658_image2_1.jpg\")'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: {\n        backgroundImage: 'url(\"http://tong.visitkorea.or.kr/cms/resource/58/980658_image2_1.jpg\")'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      id: \"homepage-info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, getHomepageLinkTag()), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"\\uC5F0\\uAD00 \\uC5EC\\uD589\\uC9C0:\"), React.createElement(\"div\", {\n      id: \"ButtonContainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      id: \"relatedItem1\",\n      onClick: e => gotoRelatedItem(\"item1\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"\\uC5F0\\uAD00 \\uC5EC\\uD589\\uC9C0 1\\uC758 \\uD0C0\\uC774\\uD2C0\", \" \"), React.createElement(\"button\", {\n      id: \"relatedItem2\",\n      onClick: e => gotoRelatedItem(\"item2\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"\\uC5F0\\uAD00 \\uC5EC\\uD589\\uC9C0 2\\uC758 \\uD0C0\\uC774\\uD2C0\", \" \")));\n  };\n\n  console.log(item);\n  return ReactDOM.createPortal(React.createElement(DetailModal, {\n    id: \"detail-modal-container\",\n    onClick: e => closeModal(e),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    onClick: e => e.stopPropagation(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, getDefailInfo())), detailModalElem);\n};\n\nconst DetailModal = styled.div(_templateObject());\nconst Loading = styled.div(_templateObject2());\nconst DetailModalContainer = styled.div(_templateObject3());\nconst ImageContainer = styled.div(_templateObject4());\nexport default Detail;","map":{"version":3,"sources":["/Users/roeniss/Desktop/workspace/sinsudong-crusher/trip-picker-develop/trip-picker-client/src/modals/Detail.js"],"names":["React","useState","useEffect","useContext","ReactDOM","styled","axios","Axios","BookmarkIcon","LikeIcon","StateContext","DispatchContext","detailModalElem","document","getElementById","Detail","userIdx","closeModal","item","setItem","state","dispatch","aa","gotoRelatedItem","target","get","then","res","getHomepageLinkTag","link","text","getImages","imageLinks","map","backgroundImage","toggleFavorite","e","preventDefault","stopPropagation","contentIdx","data","classList","contains","remove","add","toggleLike","categoryCode","subCategoryCode","getDefailInfo","bookmarked","liked","title","short_description","console","log","createPortal","DetailModal","div","Loading","DetailModalContainer","ImageContainer"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport styled from \"styled-components\";\nimport { axios } from \"../customAxios\";\nimport Axios from \"axios\";\nimport BookmarkIcon from \"../components/BookmarkIcon\";\nimport LikeIcon from \"../components/LikeIcon\";\nimport { StateContext, DispatchContext } from \"../App\";\nconst detailModalElem = document.getElementById(\"detail-modal\");\n\nconst Detail = ({ userIdx, closeModal }) => {\n  const [item, setItem] = useState(false);\n\n  const state = useContext(StateContext);\n  const dispatch = useContext(DispatchContext);\n\n  useEffect(() => {\n    // Axios.get(\"?\").then(res => setItem(res));\n\n    // Below: Test\n    setItem({ aa: 123 });\n  }, []);\n\n  const gotoRelatedItem = target => Axios.get(\"?\").then(res => setItem(res));\n\n  const getHomepageLinkTag = (link, text = \"홈페이지 링크\") => <a href={link}>{text}</a>;\n\n  const getImages = imageLinks => imageLinks.map(link => <div key={link} style={{ backgroundImage: `url(${link})` }}></div>);\n\n  const toggleFavorite = (e, item) => {\n    e.preventDefault();\n    e.stopPropagation();\n    const { contentIdx } = item;\n    const data = { userIdx: state.get(\"id\"), contentIdx };\n    if (e.target.classList.contains(\"fas\")) {\n      axios(\"REMOVE_FAVORITE\", dispatch, data);\n      e.target.classList.remove(\"fas\");\n      e.target.classList.add(\"far\");\n    } else {\n      axios(\"ADD_FAVORITE\", dispatch, data);\n      e.target.classList.add(\"fas\");\n      e.target.classList.remove(\"far\");\n    }\n  };\n\n  const toggleLike = (e, item) => {\n    e.preventDefault();\n    e.stopPropagation();\n    const { contentIdx, categoryCode, subCategoryCode } = item;\n    const data = { userIdx: state.get(\"id\"), contentIdx, categoryCode, subCategoryCode };\n    if (e.target.classList.contains(\"fas\")) {\n      axios(\"REMOVE_LIKE\", dispatch, data);\n      e.target.classList.remove(\"fas\");\n      e.target.classList.add(\"far\");\n    } else {\n      axios(\"ADD_LIKE\", dispatch, data);\n      e.target.classList.add(\"fas\");\n      e.target.classList.remove(\"far\");\n    }\n  };\n\n  const getDefailInfo = () => {\n    if (!item)\n      return (\n        <Loading>\n          <i className=\"fas fa-spinner fa-spin fa-10x\"></i>\n        </Loading>\n      );\n    else\n      return (\n        <DetailModalContainer>\n          <BookmarkIcon handler={e => toggleFavorite(e, item)} clicked={item.bookmarked ? true : false} />\n          <LikeIcon handler={e => toggleLike(e, item)} clicked={item.liked ? true : false} />\n\n          <h1>{item.title || \"타이틀 들어가는 자리\"}</h1>\n          <hr />\n          <div>주소: 주소정보주소정보주소정보주소정보주소정보</div>\n          <div>개요:</div>\n          <div>\n            {item.short_description ||\n              \"개요 들어가는 자리개요 들어가는 자리개요 들어가는 자리개요 들어가는 자리개요 들어가는 자리개요 들어가는 자리개요 들어가는 자리개요 들어가는 자리개요 들어가는 자리 개요 들어가는 자리개요 들어가는 자리개요 들어가는 자리개요 들어가는 자리개요 들어가는 자리개요 들어가는 자리 개요 들어가는 자리개요 들어가는 자리개요 들어가는 자리개요 들어가는 자리개요 들어가는 자리개요 들어가는 자리ㅍ 개요 들어가는 자리개요 들어가는 자리개요 들어가는 자리개요 들어가는 자리개요 들어가는 자리개요 들어가는 자리\"}\n          </div>\n          <ImageContainer>\n            {getImages([\n              \"http://tong.visitkorea.or.kr/cms/resource/58/980658_image2_1.jpg\",\n              \"http://tong.visitkorea.or.kr/cms/resource/58/980658_image2_1.jpg\",\n              \"http://tong.visitkorea.or.kr/cms/resource/58/980658_image2_1.jpg\",\n              \"http://tong.visitkorea.or.kr/cms/resource/58/980658_image2_1.jpg\",\n              \"http://tong.visitkorea.or.kr/cms/resource/58/980658_image2_1.jpg\",\n              \"http://tong.visitkorea.or.kr/cms/resource/58/980658_image2_1.jpg\"\n            ])}\n            <div style={{ backgroundImage: 'url(\"http://tong.visitkorea.or.kr/cms/resource/58/980658_image2_1.jpg\")' }}></div>\n            <div style={{ backgroundImage: 'url(\"http://tong.visitkorea.or.kr/cms/resource/58/980658_image2_1.jpg\")' }}></div>{\" \"}\n            <div style={{ backgroundImage: 'url(\"http://tong.visitkorea.or.kr/cms/resource/58/980658_image2_1.jpg\")' }}></div>\n            <div style={{ backgroundImage: 'url(\"http://tong.visitkorea.or.kr/cms/resource/58/980658_image2_1.jpg\")' }}></div>\n            <div style={{ backgroundImage: 'url(\"http://tong.visitkorea.or.kr/cms/resource/58/980658_image2_1.jpg\")' }}></div>\n          </ImageContainer>\n          <div id=\"homepage-info\">{getHomepageLinkTag()}</div>\n          <div>연관 여행지:</div>\n          <div id=\"ButtonContainer\">\n            <button id=\"relatedItem1\" onClick={e => gotoRelatedItem(\"item1\")}>\n              연관 여행지 1의 타이틀{\" \"}\n            </button>\n            <button id=\"relatedItem2\" onClick={e => gotoRelatedItem(\"item2\")}>\n              연관 여행지 2의 타이틀{\" \"}\n            </button>\n          </div>\n        </DetailModalContainer>\n      );\n  };\n\n  console.log(item);\n\n  return ReactDOM.createPortal(\n    <DetailModal id=\"detail-modal-container\" onClick={e => closeModal(e)}>\n      <div onClick={e => e.stopPropagation()}>{getDefailInfo()}</div>\n    </DetailModal>,\n    detailModalElem\n  );\n};\n\nconst DetailModal = styled.div`\n  position: absolute;\n  width: 100%;\n  height: 100vh;\n  background-color: rgba(101, 101, 101, 0.65);\n  top: 0;\n  left: 0;\n  > div {\n    position: absolute;\n    width: 500px;\n    height: 700px;\n    // border: 1px red solid;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    background-color: white;\n  }\n`;\n\nconst Loading = styled.div`\n  margin: 0 auto;\n  text-align: center;\n  padding-top: 100px;\n`;\n\nconst DetailModalContainer = styled.div`\n  height: 100%;\n  line-break: auto;\n  overflow-x: hidden;\n  padding: 20px;\n  > div {\n    margin-bottom: 20px;\n  }\n  div#ButtonContainer {\n    text-align: center;\n    button {\n      width: 300px;\n      margin: 0 auto;\n      height: 30px;\n      border-radius: 10px;\n      cursor: pointer;\n    }\n    #relatedItem1 {\n      margin-bottom: 10px;\n    }\n  }\n  #homepage-info {\n    text-align: center;\n  }\n`;\nconst ImageContainer = styled.div`\n  overflow-x: auto;\n  white-space: nowrap;\n  div {\n    position: relative;\n    width: 100px;\n    height: 100px;\n    margin: 10px;\n    text-align: center;\n    background-size: cover;\n    border-radius: 10px;\n    display: inline-block;\n  }\n`;\nexport default Detail;\n"]},"metadata":{},"sourceType":"module"}