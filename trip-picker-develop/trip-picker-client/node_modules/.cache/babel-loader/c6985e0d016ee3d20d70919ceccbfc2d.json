{"ast":null,"code":"import _taggedTemplateLiteral from \"/Users/roeniss/Desktop/workspace/sinsudong-crusher/trip-picker-develop/trip-picker-client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/roeniss/Desktop/workspace/sinsudong-crusher/trip-picker-develop/trip-picker-client/src/pages/FeedItems.js\";\n\nfunction _templateObject4() {\n  const data = _taggedTemplateLiteral([\"\\n  position:absolute;\\n  height:20px;\\n  width:20px;\\n  border:1px red solid;\\n  background-color:blue\\n  bottom:10px;\\n  left:10px\\n  &.like-on{\\n    background-color:green\\n  }\\n\"]);\n\n  _templateObject4 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  const data = _taggedTemplateLiteral([\"\\n  position:absolute;\\n  height:20px;\\n  width:20px;\\n  border:1px red solid;\\n  background-color:yellow\\n  top:10px;\\n  left:10px;\\n\"]);\n\n  _templateObject3 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  const data = _taggedTemplateLiteral([\"\\n  position: relative;\\n  width: 100px;\\n  height: 100px;\\n  margin: 10px;\\n  border: 1px red solid;\\n  text-align: center;\\n  background-size: cover;\\n\"]);\n\n  _templateObject2 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  const data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: space-around;\\n  flex-wrap: wrap;\\n  margin: 0 auto;\\n\"]);\n\n  _templateObject = function () {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useContext } from \"react\";\nimport { DispatchContext, StateContext } from \"../App\";\nimport styled from \"styled-components\";\n\nconst FeedItems = () => {\n  // const [page, setPage] = useState(1);\n  // const [like, setLike] = useState([]);\n  // const [dislike, setDislike] = useState([]);\n  const dispatch = useContext(DispatchContext);\n  const state = useContext(StateContext);\n\n  const toggleFavorite = (e, targetId) => {\n    e.preventDefault();\n    e.stopPropagation();\n    let favorites = state.get(\"favorites\");\n    const idx = favorites.indexOf(targetId);\n\n    if (idx > -1) {\n      favorites.splice(idx, 1);\n    } else {\n      favorites.push(targetId);\n    }\n\n    dispatch({\n      type: \"UPDATE_FAVORITES\",\n      payload: favorites\n    });\n  };\n\n  const toggleLike = (e, targetId) => {\n    e.preventDefault();\n    e.stopPropagation();\n    let likes = state.get(\"likes\");\n    const idx = likes.indexOf(targetId);\n\n    if (idx > -1) {\n      likes.splice(idx, 1);\n      e.target.classList.remove(\"like-on\");\n    } else {\n      likes.push(targetId);\n      e.target.classList.add(\"like-on\");\n    }\n\n    dispatch({\n      type: \"UPDATE_LIKES\",\n      payload: likes\n    });\n  };\n\n  const items = () => {\n    console.log(state.get(\"feed\"));\n    return state.get(\"feed\").map((item, index) => // TODO: 렌더링 때부터 (state를 따로 가지고 있길 바라는) 좋아요 데이터와 매칭시켜, like 또는 dislike 표시\n    React.createElement(FlexChild, {\n      style: {\n        backgroundImage: \"url(\".concat(item.imageUrl, \")\")\n      },\n      key: items.title + String(index),\n      id: items.title + String(index),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, React.createElement(ToggleFavoriteButton, {\n      onClick: e => toggleFavorite(e, item.number),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }), \" \", React.createElement(ToggleLikeButton, {\n      onClick: e => toggleLike(e, item.number),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }), \" \"));\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, \"\\uD604\\uC7AC \\uC120\\uD0DD\\uB41C \\uC9C0\\uC5ED: \", state.get(\"region\")), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, \"\\uD604\\uC7AC \\uC120\\uD0DD\\uB41C \\uD37C\\uC18C\\uB110\\uB9AC\\uD2F0 : \", state.get(\"personality\")), React.createElement(FlexParent, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, items()));\n};\n\nconst FlexParent = styled.div(_templateObject());\nconst FlexChild = styled.div(_templateObject2());\nconst ToggleFavoriteButton = styled.div(_templateObject3());\nconst ToggleLikeButton = styled.div(_templateObject4());\nexport default FeedItems;","map":{"version":3,"sources":["/Users/roeniss/Desktop/workspace/sinsudong-crusher/trip-picker-develop/trip-picker-client/src/pages/FeedItems.js"],"names":["React","useContext","DispatchContext","StateContext","styled","FeedItems","dispatch","state","toggleFavorite","e","targetId","preventDefault","stopPropagation","favorites","get","idx","indexOf","splice","push","type","payload","toggleLike","likes","target","classList","remove","add","items","console","log","map","item","index","backgroundImage","imageUrl","title","String","number","FlexParent","div","FlexChild","ToggleFavoriteButton","ToggleLikeButton"],"mappings":"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","sourcesContent":["import React, { useContext } from \"react\";\nimport { DispatchContext, StateContext } from \"../App\";\nimport styled from \"styled-components\";\n\nconst FeedItems = () => {\n  // const [page, setPage] = useState(1);\n  // const [like, setLike] = useState([]);\n  // const [dislike, setDislike] = useState([]);\n\n  const dispatch = useContext(DispatchContext);\n  const state = useContext(StateContext);\n\n  const toggleFavorite = (e, targetId) => {\n    e.preventDefault();\n    e.stopPropagation();\n    let favorites = state.get(\"favorites\");\n    const idx = favorites.indexOf(targetId);\n    if (idx > -1) {\n      favorites.splice(idx, 1);\n    } else {\n      favorites.push(targetId);\n    }\n    dispatch({ type: \"UPDATE_FAVORITES\", payload: favorites });\n  };\n\n  const toggleLike = (e, targetId) => {\n    e.preventDefault();\n    e.stopPropagation();\n    let likes = state.get(\"likes\");\n    const idx = likes.indexOf(targetId);\n    if (idx > -1) {\n      likes.splice(idx, 1);\n      e.target.classList.remove(\"like-on\");\n    } else {\n      likes.push(targetId);\n      e.target.classList.add(\"like-on\");\n    }\n    dispatch({ type: \"UPDATE_LIKES\", payload: likes });\n  };\n\n  const items = () => {\n    console.log(state.get(\"feed\"));\n    return state.get(\"feed\").map((item, index) => (\n      // TODO: 렌더링 때부터 (state를 따로 가지고 있길 바라는) 좋아요 데이터와 매칭시켜, like 또는 dislike 표시\n      <FlexChild style={{ backgroundImage: `url(${item.imageUrl})` }} key={items.title + String(index)} id={items.title + String(index)}>\n        <ToggleFavoriteButton onClick={e => toggleFavorite(e, item.number)} /> {/* TODO: 어떤 값으로 즐겨찾기를 보관하는지 확인 */}\n        <ToggleLikeButton onClick={e => toggleLike(e, item.number)} /> {/* TODO: 어떤 값으로 즐겨찾기를 보관하는지 확인 */}\n      </FlexChild>\n    ));\n  };\n\n  return (\n    <>\n      <div>현재 선택된 지역: {state.get(\"region\")}</div>\n      <div>현재 선택된 퍼소널리티 : {state.get(\"personality\")}</div>\n      <FlexParent>{items()}</FlexParent>\n      {/* <button onClick={_ => (page > 1 ? setPage(prev => prev - 1) : null)}>Prev page</button> */}\n      {/* <button onClick={_ => setPage(prev => prev + 1)}>Next page</button> */}\n    </>\n  );\n};\n\nconst FlexParent = styled.div`\n  display: flex;\n  justify-content: space-around;\n  flex-wrap: wrap;\n  margin: 0 auto;\n`;\nconst FlexChild = styled.div`\n  position: relative;\n  width: 100px;\n  height: 100px;\n  margin: 10px;\n  border: 1px red solid;\n  text-align: center;\n  background-size: cover;\n`;\nconst ToggleFavoriteButton = styled.div`\n  position:absolute;\n  height:20px;\n  width:20px;\n  border:1px red solid;\n  background-color:yellow\n  top:10px;\n  left:10px;\n`;\nconst ToggleLikeButton = styled.div`\n  position:absolute;\n  height:20px;\n  width:20px;\n  border:1px red solid;\n  background-color:blue\n  bottom:10px;\n  left:10px\n  &.like-on{\n    background-color:green\n  }\n`;\nexport default FeedItems;\n"]},"metadata":{},"sourceType":"module"}